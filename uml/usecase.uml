@startuml
title ユースケースサンプル
left to right direction

actor :ユーザー :as user
actor :管理者: as admin
database :DB : as DB

/'
  PCまたは携帯端末のブラウザからアクセス。
'/
package "web interface" {
	note top : "PCまたは携帯端末のブラウザからアクセス。" as package
 	user --(自アカウント登録)
	user --(ログイン)
	user --(自アカウントパスワード変更)
	user --(自アカウント削除)
	user --(他アカウントへメッセージ送信)
	user --(他アカウントからのメッセージ受信)
	user --(ログアウト)
}

/'
  専用のアプリケーションを作成してAPIで操作する。
'/
package "local application" {
	note top : "専用のアプリケーションを作成してAPIで操作する。" as package
	(ログイン)--admin
	(ログアウト)--admin
	(管理者認証)--admin
	(ログアウト)--admin
	(ユーザアカウントの作成)--admin
	(ユーザアカウントの操作)--admin
	note right of ユーザアカウントの操作: 管理者フラグの操作ができる。
	(ユーザアカウントの使用停止) -- admin
	(ユーザアカウントの使用再開) -- admin
	(ユーザユーザアカウントの削除) -- admin
	(他アカウントへメッセージ送信)--admin
	(他アカウントからのメッセージ受信)--admin
}

(自アカウント登録)->DB
(自アカウントパスワード変更)->DB
(ログイン)->DB
(ログアウト)->DB
(管理者認証)->DB
(自アカウント削除)->DB
(他アカウントへメッセージ送信)->DB
(他アカウントからのメッセージ受信)->DB
DB<-(ユーザアカウントの作成)
DB<-(ユーザアカウントの使用停止)
DB<-(ユーザアカウントの使用再開)
DB<-(ユーザユーザアカウントの削除)
DB<-(ユーザアカウントの操作)

@enduml
